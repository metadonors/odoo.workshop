<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.92.2" />
    
    <link rel="icon" href="/odoo.workshop/images/favicon.png" type="image/png">

    <title>Controllo Accessi :: Odoo Workshop</title>

    
    <link href="/odoo.workshop/css/nucleus.css?1668612166" rel="stylesheet">
    <link href="/odoo.workshop/css/fontawesome-all.min.css?1668612166" rel="stylesheet">
    <link href="/odoo.workshop/css/hybrid.css?1668612166" rel="stylesheet">
    <link href="/odoo.workshop/css/featherlight.min.css?1668612166" rel="stylesheet">
    <link href="/odoo.workshop/css/perfect-scrollbar.min.css?1668612166" rel="stylesheet">
    <link href="/odoo.workshop/css/auto-complete.css?1668612166" rel="stylesheet">
    <link href="/odoo.workshop/css/atom-one-dark-reasonable.css?1668612166" rel="stylesheet">
    <link href="/odoo.workshop/css/theme.css?1668612166" rel="stylesheet">
    <link href="/odoo.workshop/css/tabs.css?1668612166" rel="stylesheet">
    <link href="/odoo.workshop/css/hugo-theme.css?1668612166" rel="stylesheet">
    
    <link href="/odoo.workshop/css/theme-metadonors.css?1668612166" rel="stylesheet">
    
    

    <script src="/odoo.workshop/js/jquery-3.3.1.min.js?1668612166"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/odoo.workshop/first_app/controllo_accessi/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="/odoo.workshop">
    <img src="/odoo.workshop/images/logo.png"/>
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/odoo.workshop/js/lunr.min.js?1668612166"></script>
<script type="text/javascript" src="/odoo.workshop/js/auto-complete.js?1668612166"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/metadonors.github.io\/odoo.workshop\/";
    
</script>
<script type="text/javascript" src="/odoo.workshop/js/search.js?1668612166"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='/'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/odoo.workshop/basics/" title="Iniziare" class="dd-item
        
        
        
        ">
      <a href="/odoo.workshop/basics/">
          <b>1. </b>Iniziare
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/basics/precorso/" title="Precorso" class="dd-item ">
        <a href="/odoo.workshop/basics/precorso/">
        Precorso
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/basics/installazione/" title="Installazione" class="dd-item ">
        <a href="/odoo.workshop/basics/installazione/">
        Installazione
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/basics/concetti/" title="Concetti Base" class="dd-item ">
        <a href="/odoo.workshop/basics/concetti/">
        Concetti Base
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/odoo.workshop/first_app/" title="La prima applicazione" class="dd-item
        parent
        
        
        ">
      <a href="/odoo.workshop/first_app/">
          <b>2. </b>La prima applicazione
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/first_app/primo_modulo/" title="Scaffolding" class="dd-item ">
        <a href="/odoo.workshop/first_app/primo_modulo/">
        Scaffolding
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/first_app/primo_modello/" title="I modelli" class="dd-item ">
        <a href="/odoo.workshop/first_app/primo_modello/">
        I modelli
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/first_app/prime_viste/" title="Le viste" class="dd-item ">
        <a href="/odoo.workshop/first_app/prime_viste/">
        Le viste
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/first_app/prima_funzione/" title="La logica" class="dd-item ">
        <a href="/odoo.workshop/first_app/prima_funzione/">
        La logica
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/first_app/controllo_accessi/" title="Controllo Accessi" class="dd-item active">
        <a href="/odoo.workshop/first_app/controllo_accessi/">
        Controllo Accessi
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/odoo.workshop/inheritance/" title="Estendere i moduli" class="dd-item
        
        
        
        ">
      <a href="/odoo.workshop/inheritance/">
          <b>3. </b>Estendere i moduli
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/inheritance/teoria/" title="Preambolo" class="dd-item ">
        <a href="/odoo.workshop/inheritance/teoria/">
        Preambolo
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/inheritance/estendere_modelli/" title="Estendere i Modelli" class="dd-item ">
        <a href="/odoo.workshop/inheritance/estendere_modelli/">
        Estendere i Modelli
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/inheritance/estendere_viste/" title="Estendere le Viste" class="dd-item ">
        <a href="/odoo.workshop/inheritance/estendere_viste/">
        Estendere le Viste
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/inheritance/estendere_dati/" title="Estendere i Dati" class="dd-item ">
        <a href="/odoo.workshop/inheritance/estendere_dati/">
        Estendere i Dati
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/inheritance/aggiungere_funzionalita/" title="Aggiungere funzionalità" class="dd-item ">
        <a href="/odoo.workshop/inheritance/aggiungere_funzionalita/">
        Aggiungere funzionalità
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/odoo.workshop/models/" title="I Modelli" class="dd-item
        
        
        
        ">
      <a href="/odoo.workshop/models/">
          <b>4. </b>I Modelli
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/models/preambolo/" title="Preambolo" class="dd-item ">
        <a href="/odoo.workshop/models/preambolo/">
        Preambolo
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/models/campi_base/" title="Campi Base" class="dd-item ">
        <a href="/odoo.workshop/models/campi_base/">
        Campi Base
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/models/relazioni/" title="Relazioni" class="dd-item ">
        <a href="/odoo.workshop/models/relazioni/">
        Relazioni
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/models/computed_fields/" title="Computed Fields" class="dd-item ">
        <a href="/odoo.workshop/models/computed_fields/">
        Computed Fields
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/models/vincoli/" title="Vincoli" class="dd-item ">
        <a href="/odoo.workshop/models/vincoli/">
        Vincoli
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/odoo.workshop/views/" title="Le Viste" class="dd-item
        
        
        
        ">
      <a href="/odoo.workshop/views/">
          <b>5. </b>Le Viste
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/views/menu_actions/" title="MenuItem e Actions" class="dd-item ">
        <a href="/odoo.workshop/views/menu_actions/">
        MenuItem e Actions
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/views/context_domain/" title="Context e Domain" class="dd-item ">
        <a href="/odoo.workshop/views/context_domain/">
        Context e Domain
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/views/form_view/" title="Form View" class="dd-item ">
        <a href="/odoo.workshop/views/form_view/">
        Form View
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/views/list_view/" title="List e Search View" class="dd-item ">
        <a href="/odoo.workshop/views/list_view/">
        List e Search View
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/views/graph_pivot_views/" title="Pivot e Graph View" class="dd-item ">
        <a href="/odoo.workshop/views/graph_pivot_views/">
        Pivot e Graph View
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/views/altre_views/" title="Altre Viste" class="dd-item ">
        <a href="/odoo.workshop/views/altre_views/">
        Altre Viste
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/odoo.workshop/application_logic/" title="Logica applicativa" class="dd-item
        
        
        
        ">
      <a href="/odoo.workshop/application_logic/">
          <b>6. </b>Logica applicativa
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/application_logic/wizard/" title="Wizard" class="dd-item ">
        <a href="/odoo.workshop/application_logic/wizard/">
        Wizard
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/application_logic/usare_orm/" title="Usare l&#39;ORM" class="dd-item ">
        <a href="/odoo.workshop/application_logic/usare_orm/">
        Usare l&#39;ORM
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/odoo.workshop/api/" title="Api esterne" class="dd-item
        
        
        
        ">
      <a href="/odoo.workshop/api/">
          <b>7. </b>Api esterne
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/api/panoramica/" title="Panoramica" class="dd-item ">
        <a href="/odoo.workshop/api/panoramica/">
        Panoramica
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/odoo.workshop/api/operazioni/" title="Operazioni" class="dd-item ">
        <a href="/odoo.workshop/api/operazioni/">
        Operazioni
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/odoo.workshop/resources/" title="Altre Risorse" class="dd-item
        
        
        
        ">
      <a href="/odoo.workshop/resources/">
          <b>8. </b>Altre Risorse
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/metadonors/odoo.workshop/tree/master/content/first_app/controllo_accessi.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/odoo.workshop/'>Index</a> > <a href='/odoo.workshop/first_app/'>La prima applicazione</a> > Controllo Accessi
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#access-rights">Access Rights</a></li>
        <li><a href="#row-level-access-rule">Row-level access rule</a></li>
        <li><a href="#continua">Continua</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Controllo Accessi
            </h1>
          

        


<p>Nella scorsa sezione abbiamo terminato la creazione del nostro modulo base. Al termine abbiamo notato che Odoo si lamentava dicendo che non abbiamo specificato delle regole di accesso per il modello da noi creato</p>
<pre tabindex="0"><code>WARNING odoo odoo.modules.loading: The models ['todo.task'] have no access rules in module todo_app, consider adding some, like:
id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink
</code></pre><p>In Odoo <em>tutti i modelli</em> devono avere delle regole di accesso specificate, in caso contrario solo l&rsquo;utente admin potrà accedere ai dati relativi a quel modello.</p>
<p>Ci sono due tipi di controlli di accesso disponibili: <em>access rights</em> e <em>row level access control</em></p>
<ul>
<li><em>access rights</em> sono le regole principale e obbligatorie da definire per modello, indicano l&rsquo;accesso generico in termini booleani SI/NO che i gruppi di utenti hanno rispetto ai dati del modello declinati in <em>lettura</em>, <em>scrittura</em>, <em>creazione</em> e <em>cancellazione</em></li>
<li><em>row level access control</em> sono le regole che a seguito delle <em>access rights</em> vengono applicate in termini di riga. Per esempio: tutti i dipendenti possono creare oggetti Todo ma possono visualizzare e utilizzare sono quelli creati da loro.</li>
</ul>
<h3 id="access-rights">Access Rights</h3>
<p>Per farci un&rsquo;idea di come sono strutturate queste regole, entriamo in <a href="http://localhost:1313/odoo.workshop/first_app/primo_modulo/#la-modalit%C3%A0-sviluppatore">modalità sviluppo</a> e andiamo in:</p>
<p><strong>Settings -&gt; Technical -&gt; Security -&gt; Access Rights</strong></p>
<p>Ci troveremo di fronte a una pagina come questa:</p>
<p><img src="/odoo.workshop/screen/controllo_accessi/acl.png?width=60pc" alt="acl"></p>
<p>Quindi quello che dovremo fare è aggiungere un Odoo data file, come per le viste, contenente le informazioni che voglioamo caricare in questa tabella relative ai nostri modelli.</p>
<p>Solitamente le regole di accesso vengono inserite nella cartella <em>security</em> all&rsquo;interno del modulo in cui stiamo lavorando. Quindi creaiamola e al suo interno aggiungiamo un file <em>task_model_acl.xml</em> ottenendo questa struttura</p>
<pre tabindex="0"><code>todo_app/
    models/
        __init__.py
        task_model.py
        task_views.py
    views/
        task_menu.xml
        task_views.xml
    security/
        task_model_acl.xml
    __init__.py
    __manifest__.py
</code></pre><p>All&rsquo;interno del file <em>task_model_acl.xml</em> andiamo poi a definire i dati che regoleranno l&rsquo;acl in questione nel seguente modo</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span style="color:#f92672">&lt;odoo&gt;</span>
    <span style="color:#f92672">&lt;data</span> <span style="color:#a6e22e">noupdate=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">&gt;</span>
        <span style="color:#f92672">&lt;record</span> <span style="color:#a6e22e">model=</span><span style="color:#e6db74">&#34;ir.model.access&#34;</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;todo_task_user_access&#34;</span><span style="color:#f92672">&gt;</span>
            <span style="color:#f92672">&lt;field</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">&gt;</span>todo.task.user<span style="color:#f92672">&lt;/field&gt;</span>
            <span style="color:#f92672">&lt;field</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;model_id&#34;</span> <span style="color:#a6e22e">ref=</span><span style="color:#e6db74">&#34;model_todo_task&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;field</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;group_id&#34;</span> <span style="color:#a6e22e">ref=</span><span style="color:#e6db74">&#34;base.group_user&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;field</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;perm_read&#34;</span> <span style="color:#a6e22e">eval=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;field</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;perm_create&#34;</span> <span style="color:#a6e22e">eval=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;field</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;perm_write&#34;</span> <span style="color:#a6e22e">eval=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;field</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;perm_unlink&#34;</span> <span style="color:#a6e22e">eval=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">/&gt;</span>
        <span style="color:#f92672">&lt;/record&gt;</span>
    <span style="color:#f92672">&lt;/data&gt;</span>
<span style="color:#f92672">&lt;/odoo&gt;</span>
</code></pre></div><p>Questa codice aggiunge una regola di acl con <em>id</em> todo_task_user_access che viene applicata al modello <em>todo.task</em> sul gruppo <em>base.group.user</em> dando tutti i permessi di lettura, scrittura, creazione e cancellazione. Il gruppo <em>base.group.user</em> è un gruppo generico di Odoo a cui fanno parte tutti gli utenti del sistema.</p>

<div class="notices note" ><p>In questo caso abbiamo aggiunto al tag <em>data</em> il valore <em>noupdate</em>. Questo dice ad Odoo di creare la riga nel database al primo upgrade, ma di non aggiornarla durante un successivo upgrade se già presente. Questo perchè questo tipo di dati può essere modificato dall&rsquo;amministratore direttamente da interfaccia web in produzione e non vogliamo che vengano resettate queste modifiche ad un successivo upgrade del modulo.</p>
</div>

<p>Come per le viste dobbiamo poi specificare nel file <em>__manifest__.py</em> l&rsquo;esistenza di questa regola, apriamo quindi il file manifesto e modifichiamolo come segue:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">{
    <span style="color:#e6db74">&#39;name&#39;</span>: <span style="color:#e6db74">&#39;TODO Application&#39;</span>,
    <span style="color:#e6db74">&#39;description&#39;</span>: <span style="color:#e6db74">&#39;Manage your Todos&#39;</span>,
    <span style="color:#e6db74">&#39;author&#39;</span>: <span style="color:#e6db74">&#39;Imthe Author&#39;</span>,
    <span style="color:#e6db74">&#39;license&#39;</span>: <span style="color:#e6db74">&#39;LGPL-3&#39;</span>,
    <span style="color:#e6db74">&#39;depends&#39;</span>: [<span style="color:#e6db74">&#39;base&#39;</span>],
    <span style="color:#e6db74">&#39;application&#39;</span>: <span style="color:#66d9ef">True</span>,
    <span style="color:#e6db74">&#39;data&#39;</span>: [
        <span style="color:#e6db74">&#39;views/task_menu.xml&#39;</span>,
        <span style="color:#e6db74">&#39;views/task_views.xml&#39;</span>,

        <span style="color:#e6db74">&#39;security/task_model_acl.xml&#39;</span>, <span style="color:#75715e"># &lt;-- Add this line</span>
    ]
}
</code></pre></div><p>Avendo aggiunto una nuova risorsa dobbiamo ricordarci di fare l&rsquo;upgrade del modulo lanciando da terminale:</p>
<pre tabindex="0"><code>$ docker compose run odoo upgrade todo_app
</code></pre><p>A questo punto il messaggio di WARNING dovrebbe essere scomparso e tutti i nostri utenti hanno ora accesso al modello del nostro modulo.</p>
<h3 id="row-level-access-rule">Row-level access rule</h3>
<p>Immagina di desiderare che gli utenti che usano il nostro modulo possano accedere solo ai dati creati da loro stessi. Le regole di accesso non sono sufficienti per specificare questa logica, perchè anche in questo caso tutti avrebbero gli stessi permessi di accesso, cambierebbe solo su <strong>quali</strong> dati possono applicarle.</p>
<p>In questo caso si utilizzano le regole di accesso per riga, che selezionano tramite un <em>domain</em> i record ai quali applicare le regole di accesso generali. Nel nostro caso vorremo che gli utenti abbiano accesso solo a quei record che hanno il campo create_user uguale a quello dell&rsquo;utente che sta utilizzando il sofware ma possono essere espresse anche regole ben più complesse.</p>
<p>Come per le <em>Access Control List</em> le regole di riga vengono salvate in una specifica tabella di Odoo che può essere visualizzata andando nella sezione</p>
<p><strong>Settings -&gt; Technical -&gt; Security -&gt; Record Rules</strong></p>
<p><img src="/odoo.workshop/screen/controllo_accessi/rules.png?width=60pc" alt="rules"></p>
<p>e sempre come le ACL possiamo creare delle regole aggiungendole al file di security che abbiamo creato in precedenza. Quindi apriamo il file _security/task_model_acl.xml e aggiungiamo dopo il record creato in precedenza</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;record</span> <span style="color:#a6e22e">model=</span><span style="color:#e6db74">&#34;ir.rule&#34;</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;todo_task_user_rule&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;field</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">&gt;</span>todo.task.user.rule<span style="color:#f92672">&lt;/field&gt;</span>
    <span style="color:#f92672">&lt;field</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;model_id&#34;</span> <span style="color:#a6e22e">ref=</span><span style="color:#e6db74">&#34;model_todo_task&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;field</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;domain_force&#34;</span><span style="color:#f92672">&gt;</span>
        [(&#39;create_uid&#39;, &#39;=&#39;, user.id)]
    <span style="color:#f92672">&lt;/field&gt;</span>
    <span style="color:#f92672">&lt;field</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;groups&#34;</span> <span style="color:#a6e22e">eval=</span><span style="color:#e6db74">&#34;[4, ref(&#39;base.group_user&#39;)]&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/record&gt;</span>
</code></pre></div><p>Se tutto è andato bene la regola sarà aggiunta.</p>
<h3 id="continua">Continua</h3>
<p>Il nostro modulo sembra essere ad un buon punto ormai da meritare possiamo quindi andare a scoprire <a href="/odoo.workshop/inheritance/">come si modificano le applicazioni esistenti</a></p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/odoo.workshop/first_app/prima_funzione/" title="La logica"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/odoo.workshop/inheritance/" title="Estendere i moduli" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/odoo.workshop/js/clipboard.min.js?1668612166"></script>
    <script src="/odoo.workshop/js/perfect-scrollbar.min.js?1668612166"></script>
    <script src="/odoo.workshop/js/perfect-scrollbar.jquery.min.js?1668612166"></script>
    <script src="/odoo.workshop/js/jquery.sticky.js?1668612166"></script>
    <script src="/odoo.workshop/js/featherlight.min.js?1668612166"></script>
    <script src="/odoo.workshop/js/highlight.pack.js?1668612166"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/odoo.workshop/js/modernizr.custom-3.6.0.js?1668612166"></script>
    <script src="/odoo.workshop/js/learn.js?1668612166"></script>
    <script src="/odoo.workshop/js/hugo-learn.js?1668612166"></script>
    
        
            <script src="/odoo.workshop/mermaid/mermaid.js?1668612166"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

